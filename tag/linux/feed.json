{
    "version": "https://jsonfeed.org/version/1",
    "title": "上善若水 • All posts by \"linux\" tag",
    "description": "若能避开猛烈的欢喜，自然也不会有悲痛的来袭.",
    "home_page_url": "http://yunyat.cloud",
    "items": [
        {
            "id": "http://yunyat.cloud/miscellaneous/issues/Yum%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%EF%BC%8C%E7%BC%BA%E5%B0%91%E4%BE%9D%E8%B5%96%E9%97%AE%E9%A2%98/",
            "url": "http://yunyat.cloud/miscellaneous/issues/Yum%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%EF%BC%8C%E7%BC%BA%E5%B0%91%E4%BE%9D%E8%B5%96%E9%97%AE%E9%A2%98/",
            "title": "Yum安装失败",
            "date_published": "2024-06-24T08:18:25.000Z",
            "content_html": "<h1 id=\"描述\"><a class=\"markdownIt-Anchor\" href=\"#描述\">#</a> 描述</h1>\n<p>使用  <code>apt-get</code>  安装  <code>yum</code>  失败</p>\n<h2 id=\"环境\"><a class=\"markdownIt-Anchor\" href=\"#环境\">#</a> 环境</h2>\n<p>系统：Ubuntu 20.04.1</p>\n<h2 id=\"原因\"><a class=\"markdownIt-Anchor\" href=\"#原因\">#</a> 原因</h2>\n<p>缺少依赖</p>\n<h2 id=\"解决\"><a class=\"markdownIt-Anchor\" href=\"#解决\">#</a> 解决</h2>\n<p><img data-src=\"https://figurebed.yunyat.cloud/Code/20240624162654.png\" alt=\"image-20240624162654309\"></p>\n<p>使用  <code>apt-get</code>  依次安装缺少的依赖项</p>\n<hr>\n<p><em>END</em></p>\n",
            "tags": [
                "Linux",
                "Ubuntu"
            ]
        },
        {
            "id": "http://yunyat.cloud/linux/Linux2023-9-18%E4%BD%9C%E4%B8%9A/",
            "url": "http://yunyat.cloud/linux/Linux2023-9-18%E4%BD%9C%E4%B8%9A/",
            "title": "Linux2023-9-18作业",
            "date_published": "2023-09-18T06:40:30.000Z",
            "content_html": "<blockquote>\n<p>题目要求：</p>\n<p>1、破解 centos7 操作系统密码为 flectrag</p>\n<p>2、查找系统中文件，要求将文件大小大于 5M 小于 10M 的文件查找出来放置 /findfile 目录下</p>\n<p>3、查找文件 /usr/share/xml/iso-codes/iso_639_3.xml 中包含字符串 ng 的所有行。<br>\n将所有这些行的副本按原始顺序放在文件 /root/list 中。/root/list 不得包含空行，<br>\n且所有行必须是 /usr/share/xml/iso-codes/iso_639_3.xml 中原始行的确切副本</p>\n<p>4、新建用户 student，设置密码为 flectrag</p>\n<p>5、修改 student 用户策略，允许 student 组成员 sudo 时不需要密码</p>\n</blockquote>\n<hr>\n<h4 id=\"10-破解-centos7-操作系统的-root-用户密码\"><a class=\"markdownIt-Anchor\" href=\"#10-破解-centos7-操作系统的-root-用户密码\">#</a> 1.0 破解 centos7 操作系统的 root 用户密码</h4>\n<ol>\n<li>先重启虚拟机，在如下图的界面按 e 键进入 edit</li>\n</ol>\n<p><img data-src=\"https://z1.ax1x.com/2023/09/18/pP4i8FH.jpg\" alt=\"pP4i8FH.jpg\"></p>\n<p><img data-src=\"https://z1.ax1x.com/2023/09/18/pP4iJfA.jpg\" alt=\"pP4iJfA.jpg\"></p>\n<ol start=\"2\">\n<li>找到 linux16 字段，把里面的  <code>ro rhgb quiet</code>  改为  <code>rw init=/bin/sh</code> ，之后按 ctrl+x 进入单用户模式</li>\n</ol>\n<p><img data-src=\"https://z1.ax1x.com/2023/09/18/pP4iNlt.jpg\" alt=\"pP4iNlt.jpg\"></p>\n<p><img data-src=\"https://z1.ax1x.com/2023/09/18/pP4itSI.jpg\" alt=\"pP4itSI.jpg\"></p>\n<ol start=\"3\">\n<li>在该模式下输入  <code>passwd root</code>  来更改 root 密码，之后输入 touch /.autorelabel 创建文件，然后输入 exec /sbin/init 正常启动 init 进程即可</li>\n</ol>\n<p><img data-src=\"https://z1.ax1x.com/2023/09/18/pP4iGYd.jpg\" alt=\"pP4iGYd.jpg\"></p>\n<h4 id=\"20-查找文件1\"><a class=\"markdownIt-Anchor\" href=\"#20-查找文件1\">#</a> 2.0 查找文件 1</h4>\n<ol>\n<li>首先要在根目录创建一个  <code>findfile</code>  文件夹，然后使用下面的命令来查找并复制</li>\n</ol>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">mkdir</span> /findfile</pre></td></tr></table></figure><figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">find</span> <span class=\"token builtin class-name\">.</span> <span class=\"token parameter variable\">-type</span> f <span class=\"token parameter variable\">-size</span> +5M <span class=\"token parameter variable\">-size</span> <span class=\"token parameter variable\">-10M</span> <span class=\"token parameter variable\">-exec</span> <span class=\"token function\">cp</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span> /findfile <span class=\"token punctuation\">\\</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p><img data-src=\"https://z1.ax1x.com/2023/09/18/pP4kyMq.png\" alt=\"pP4kyMq.png\"></p>\n<ol start=\"2\">\n<li>可以使用  <code>ll</code>  命令验证大小</li>\n</ol>\n<p><img data-src=\"https://z1.ax1x.com/2023/09/18/pP4ApQI.png\" alt=\"pP4ApQI.png\"></p>\n<h4 id=\"30-查找文件2\"><a class=\"markdownIt-Anchor\" href=\"#30-查找文件2\">#</a> 3.0 查找文件 2</h4>\n<ol>\n<li>先在用户的家目录下用  <code>touch</code>  命令创建  <code>list</code>  文件，然后使用下面的命令完成要求，最后使用  <code>cat list</code>  来验证</li>\n</ol>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">touch</span> list</pre></td></tr></table></figure><figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">grep</span> <span class=\"token string\">\"ng\"</span> /usr/share/xml/iso-codes/iso_639_3.xml <span class=\"token operator\">|</span> <span class=\"token function\">tr</span> <span class=\"token parameter variable\">-d</span> <span class=\"token string\">'\\r'</span> <span class=\"token operator\">></span> /root/list</pre></td></tr></table></figure><figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">cat</span> list</pre></td></tr></table></figure><p><img data-src=\"https://z1.ax1x.com/2023/09/18/pP4AGY4.png\" alt=\"pP4AGY4.png\"></p>\n<h4 id=\"40-创建用户\"><a class=\"markdownIt-Anchor\" href=\"#40-创建用户\">#</a> 4.0 创建用户</h4>\n<ol>\n<li>使用下面的命令创建 student 用户并指定其密码，使用普通用户 sir 登录测试</li>\n</ol>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">useradd</span> <span class=\"token parameter variable\">-p</span> <span class=\"token variable\"><span class=\"token variable\">$(</span>openssl <span class=\"token function\">passwd</span> <span class=\"token parameter variable\">-1</span> flectrag<span class=\"token variable\">)</span></span> student</pre></td></tr></table></figure><p><img data-src=\"https://z1.ax1x.com/2023/09/18/pP4e3uR.png\" alt=\"pP4e3uR.png\"></p>\n<h4 id=\"50-修改用户策略\"><a class=\"markdownIt-Anchor\" href=\"#50-修改用户策略\">#</a> 5.0 修改用户策略</h4>\n<ol>\n<li>先使用下面的命令将 student 用户添加到 /etc/sudoers 文件中</li>\n</ol>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"%student ALL=(ALL) NOPASSWD: ALL\"</span> <span class=\"token operator\">>></span> /etc/sudoers</pre></td></tr></table></figure><p>然后切换到 student 用户，之后使用 sudo passwd root 来试着更改 root 用户的密码，可以看到，可以直接更改，不需要输入密码，然后切到 sir 普通用户，同样试着更改 root 用户的密码，可以看到，无法更改</p>\n<p><img data-src=\"https://z1.ax1x.com/2023/09/18/pP4e8D1.png\" alt=\"pP4e8D1.png\"></p>\n<hr>\n<p>END</p>\n",
            "tags": [
                "原创",
                "Linux"
            ]
        },
        {
            "id": "http://yunyat.cloud/linux/Linux2023-9-15%E4%BD%9C%E4%B8%9A/",
            "url": "http://yunyat.cloud/linux/Linux2023-9-15%E4%BD%9C%E4%B8%9A/",
            "title": "Linux2023.9.15作业",
            "date_published": "2023-09-15T06:18:57.000Z",
            "content_html": "<blockquote>\n<p>题目要求：</p>\n<p>1、创建用户和用户组</p>\n<p>请按照以下要求创建用户、用户组：</p>\n<p>新建一个名为 adminuser 的组，组 id 为 40000</p>\n<p>新建一个名为 natasha 的用户，并将 adminuser 作为其附属组</p>\n<p>新建一个名为 harry 的用户，并将 adminuser 作为其附属组</p>\n<p>新建一个名为 sarah 的用户，其不属于 adminuser 组，并将其 shell 设置为不可登陆 shell</p>\n<p>natasha、harry 和 sarah 三个用户的密码均设置为 glegunge</p>\n<p>2、复制文件 /etc/fstab 到 /var/tmp 目录下，并按照以下要求配置 /var/tmp/fstab 文件的权限:</p>\n<p>该文件的所属人为 root</p>\n<p>该文件的所属组为 root</p>\n<p>该文件对任何人均没有执行权限</p>\n<p>用户 natasha 对该文件有读和写的权限</p>\n<p>用户 harry 对该文件既不能读也不能写</p>\n<p>所有其他用户（包括当前已有用户及未来创建的用户）对该文件都有读的权限</p>\n<p>3、打包文件</p>\n<p>请对 /etc/sysconfig 目录进行打包并用 bzip2 压缩，生成的文件保存为 /root/sysconfig.tar.bz2</p>\n<p>4、创建一个大小为 500M 的分区，永久挂载到 /test 目录下</p>\n</blockquote>\n<hr>\n<h5 id=\"创建用户和用户组\"><a class=\"markdownIt-Anchor\" href=\"#创建用户和用户组\">#</a> 创建用户和用户组</h5>\n<ol>\n<li>新建一个名为 adminuser 的组，组 id 为 40000</li>\n</ol>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">groupadd</span> <span class=\"token parameter variable\">-g</span> <span class=\"token number\">40000</span> adminuser</pre></td></tr></table></figure><ol start=\"2\">\n<li>新建一个名为 natasha 的用户，并将 adminuser 作为其附属组</li>\n</ol>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">useradd</span> <span class=\"token parameter variable\">-G</span> adminuser natasha</pre></td></tr></table></figure><ol start=\"3\">\n<li>新建一个名为 harry 的用户，并将 adminuser 作为其附属组</li>\n</ol>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">useradd</span> <span class=\"token parameter variable\">-G</span> adminuser harry</pre></td></tr></table></figure><ol start=\"4\">\n<li>新建一个名为 sarah 的用户，其不属于 adminuser 组，并将其 shell 设置为不可登陆 shell</li>\n</ol>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">useradd</span> <span class=\"token parameter variable\">-s</span> /usr/sbin/nologin sarah</pre></td></tr></table></figure><p><img data-src=\"https://z1.ax1x.com/2023/09/15/pPWsWAf.png\" alt=\"pPWsWAf.png\"></p>\n<ol start=\"5\">\n<li>natasha、harry 和 sarah 三个用户的密码均设置为 glegunge</li>\n</ol>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">passwd</span> <span class=\"token operator\">&lt;</span>用户名<span class=\"token operator\">></span></pre></td></tr></table></figure><p><img data-src=\"https://z1.ax1x.com/2023/09/15/pPWsfN8.png\" alt=\"pPWsfN8.png\"></p>\n<p>测试：</p>\n<p>查看组 id 及附属组</p>\n<p><img data-src=\"https://z1.ax1x.com/2023/09/15/pPWs2HP.png\" alt=\"pPWs2HP.png\"></p>\n<p>测试 sarah 的 shell 登录</p>\n<p><img data-src=\"https://z1.ax1x.com/2023/09/15/pPWsqH0.png\" alt=\"pPWsqH0.png\"></p>\n<h5 id=\"复制文件etcfstab到vartmp目录下并按照以下要求配置vartmpfstab文件的权限\"><a class=\"markdownIt-Anchor\" href=\"#复制文件etcfstab到vartmp目录下并按照以下要求配置vartmpfstab文件的权限\">#</a> 复制文件 /etc/fstab 到 /var/tmp 目录下，并按照以下要求配置 /var/tmp/fstab 文件的权限:</h5>\n<p>先复制</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">cp</span> /etc/fstab /var/tmp</pre></td></tr></table></figure><ol>\n<li>该文件的所属人为 root，该文件的所属组为 root</li>\n</ol>\n<p><img data-src=\"https://z1.ax1x.com/2023/09/15/pPW6pi8.png\" alt=\"pPW6pi8.png\"></p>\n<ol start=\"2\">\n<li>该文件对任何人均没有执行权限，用户 natasha 对该文件有读和写的权限，用户 harry 对该文件既不能读也不能写</li>\n</ol>\n<p><img data-src=\"https://z1.ax1x.com/2023/09/15/pPW69JS.png\" alt=\"pPW69JS.png\"></p>\n<ol start=\"3\">\n<li>所有其他用户（包括当前已有用户及未来创建的用户）对该文件都有读的权限</li>\n</ol>\n<p><img data-src=\"https://z1.ax1x.com/2023/09/15/pPWyxdP.png\" alt=\"pPWyxdP.png\"></p>\n<h5 id=\"打包文件\"><a class=\"markdownIt-Anchor\" href=\"#打包文件\">#</a> 打包文件</h5>\n<ol>\n<li>请对 /etc/sysconfig 目录进行打包并用 bzip2 压缩，生成的文件保存为 /root/sysconfig.tar.bz2</li>\n</ol>\n<p><img data-src=\"https://z1.ax1x.com/2023/09/15/pPWyzIf.png\" alt=\"pPWyzIf.png\"></p>\n<h5 id=\"创建分区\"><a class=\"markdownIt-Anchor\" href=\"#创建分区\">#</a> 创建分区</h5>\n<ol>\n<li>创建一个大小为 500M 的分区</li>\n</ol>\n<p><img data-src=\"https://z1.ax1x.com/2023/09/15/pPW26T1.png\" alt=\"pPW26T1.png\"></p>\n<ol start=\"2\">\n<li>使用 mkfs 将 sda4 格式化为 ext4 文件系统</li>\n</ol>\n<p><img data-src=\"https://z1.ax1x.com/2023/09/15/pPW2wSU.png\" alt=\"pPW2wSU.png\"></p>\n<ol start=\"3\">\n<li>将分区挂载到 /test 目录，如果没有请自行创建</li>\n</ol>\n<p><img data-src=\"https://z1.ax1x.com/2023/09/15/pPW2aWT.png\" alt=\"pPW2aWT.png\"></p>\n<ol start=\"4\">\n<li>使用开机自启实现永久挂载目录</li>\n</ol>\n<p><img data-src=\"https://z1.ax1x.com/2023/09/15/pPW2UYV.png\" alt=\"pPW2UYV.png\"></p>\n<hr>\n<p>END</p>\n",
            "tags": [
                "原创",
                "Linux"
            ]
        }
    ]
}