{
    "version": "https://jsonfeed.org/version/1",
    "title": "上善若水 • All posts by \"maven\" tag",
    "description": "若能避开猛烈的欢喜，自然也不会有悲痛的来袭.",
    "home_page_url": "http://yunyat.cloud",
    "items": [
        {
            "id": "http://yunyat.cloud/linux/Versioning/maven%E7%9A%84%E4%BD%BF%E7%94%A8/",
            "url": "http://yunyat.cloud/linux/Versioning/maven%E7%9A%84%E4%BD%BF%E7%94%A8/",
            "title": "Maven的使用",
            "date_published": "2023-07-08T15:32:50.000Z",
            "content_html": "<p>maven 的项目结构</p>\n<p><img data-src=\"https://s1.ax1x.com/2023/07/08/pCgiQts.png\" alt=\"pCgiQts.png\"></p>\n<ul>\n<li>main\t-- 项目的主要代码和资源\n<ul>\n<li>java\t-- 项目的源代码</li>\n<li>resources\t-- 项目的资源</li>\n</ul>\n</li>\n<li>test\t-- 测试项目代码，目录相当于 JUnit 的测试代码的目录\n<ul>\n<li>java\t-- 所有的单元测试.java 文件，JUnit 测试类等</li>\n<li>resources\t-- 项目测试的资源，spring，hibernate 的配置文件</li>\n</ul>\n</li>\n<li>target\t-- 项目输出位置，maven 编译后的类文件及打包文件会在此目录</li>\n<li>pom.xml\t--maven 的配置文件</li>\n</ul>\n<h4 id=\"pom基础标签\"><a class=\"markdownIt-Anchor\" href=\"#pom基础标签\">#</a> pom 基础标签</h4>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>project</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://maven.apache.org/POM/4.0.0<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>         <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>         <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>modelVersion</span><span class=\"token punctuation\">></span></span>4.0.0<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>modelVersion</span><span class=\"token punctuation\">></span></span>  <span class=\"token comment\">&lt;!-- pom 版本 --></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>fun.zero.li<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span>  <span class=\"token comment\">&lt;!-- 域名（项目组的唯一标识） --></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>MavenWSM<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span>  <span class=\"token comment\">&lt;!-- 项目的唯一 id / 模块名 --></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>1.0-SNAPSHOT<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span> <span class=\"token comment\">&lt;!-- 项目当前版本 SNAPSHOT (快速开发) --></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">&lt;!-- groupId  artifactId  version: 也决定了项目在打包 / 发布文件的样式 / 地址：本地仓库下 /fun/zero/MavenWSM/1.0-SNAPSHOT/MavenWSM-1.0-SNAPSHOT.jar --></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>WSM<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>    <span class=\"token comment\">&lt;!-- 项目别名 --></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>packaging</span><span class=\"token punctuation\">></span></span>jar<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>packaging</span><span class=\"token punctuation\">></span></span>  <span class=\"token comment\">&lt;!-- 项目打包产生的工件类型 有 jar、war、ear、pom --></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\">&lt;!-- Jar: 一般公司自己制作，方便开发调用的组件 Jar...     war: 项目打包成 war 可以部署至服务器中运行... 的格式；这里不是 web 工程所以不需要 war jar 即可～--></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>properties</span><span class=\"token punctuation\">></span></span>    <span class=\"token comment\">&lt;!-- 给 pom 定义的一些常量 --></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token comment\">&lt;!-- 指定项目使用的 jdk 版本 --></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>maven.compiler.source</span><span class=\"token punctuation\">></span></span>17<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>maven.compiler.source</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>maven.compiler.target</span><span class=\"token punctuation\">></span></span>17<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>maven.compiler.target</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>properties</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token comment\">&lt;!-- 提供的依赖下载坐标 --></span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependencies</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token comment\">&lt;!-- 每个 dependency 都是一个 jar 坐标 1. 先从本地找 -> 2. 去私服找 -> 3. 到中央仓库下载 --></span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>junit<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>junit<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>4.13.2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>scope</span><span class=\"token punctuation\">></span></span>test<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>scope</span><span class=\"token punctuation\">></span></span> <span class=\"token comment\">&lt;!-- Jar 包使用的范围：默认使用范围是 compile, 则测试代码和主代码都可以使用该代码 --></span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            <span class=\"token comment\">&lt;!-- &lt;scope>system&lt;/scope>               &lt;systemPath> 引入 Jar 资源路径... &lt;/systemPath> --></span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.junit.jupiter<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>junit-jupiter<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>5.9.2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>scope</span><span class=\"token punctuation\">></span></span>test<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>scope</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.testng<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>testng<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>7.7.0<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>scope</span><span class=\"token punctuation\">></span></span>test<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>scope</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependencies</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>project</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><h5 id=\"scopy标签\"><a class=\"markdownIt-Anchor\" href=\"#scopy标签\">#</a> scopy 标签</h5>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">依赖范围</th>\n<th style=\"text-align:center\">对于编译 class path 有效</th>\n<th style=\"text-align:center\">对于测试 class path 有效</th>\n<th style=\"text-align:center\">对于运行 class path 有效</th>\n<th style=\"text-align:center\">例子</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">compile</td>\n<td style=\"text-align:center\">Y</td>\n<td style=\"text-align:center\">Y</td>\n<td style=\"text-align:center\">Y</td>\n<td style=\"text-align:center\">spring-core</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">test</td>\n<td style=\"text-align:center\">-</td>\n<td style=\"text-align:center\">Y</td>\n<td style=\"text-align:center\">-</td>\n<td style=\"text-align:center\">Junit</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">provided</td>\n<td style=\"text-align:center\">Y</td>\n<td style=\"text-align:center\">Y</td>\n<td style=\"text-align:center\">-</td>\n<td style=\"text-align:center\">servlet-api</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">runtime</td>\n<td style=\"text-align:center\">-</td>\n<td style=\"text-align:center\">Y</td>\n<td style=\"text-align:center\">Y</td>\n<td style=\"text-align:center\">JDBC 驱动</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">system</td>\n<td style=\"text-align:center\">Y</td>\n<td style=\"text-align:center\">Y</td>\n<td style=\"text-align:center\">-</td>\n<td style=\"text-align:center\">本地的，maven 仓库之外的类库</td>\n</tr>\n</tbody>\n</table>\n<p>添加依赖时需要指定其依赖范围</p>\n<ul>\n<li>compile\n<ul>\n<li>编译范围，默认范围值，依赖会用在编译、测试、运行，由于运行时需要所以编译范围的依赖会被打包。</li>\n</ul>\n</li>\n<li>test\n<ul>\n<li>编译范围，在编译和运行时都不需要，它们只有在测试编译和测试运行阶段可用。比如：junit。</li>\n</ul>\n</li>\n<li>provided\n<ul>\n<li>编译范围，provided 依赖在编译和测试时需要，在运行时不需要，比如：servlet api 运行时被 tomcat 容器提供。(冲突反而会报错！)</li>\n</ul>\n</li>\n<li>runtime\n<ul>\n<li>编译范围，依赖在运行和测试系统的时候需要，但在编译的时候不需要。 比如：jdbc 驱动包。</li>\n</ul>\n</li>\n<li>system\n<ul>\n<li>编译范围，system 范围依赖与 provided 类似，使用本地之外的路径的 Jar 需要指定 systemPath 磁盘路径 (不推荐！)</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"使用maven一键构建\"><a class=\"markdownIt-Anchor\" href=\"#使用maven一键构建\">#</a> 使用 maven 一键构建</h4>\n<p><img data-src=\"https://s1.ax1x.com/2023/07/08/pCgBz7V.png\" alt=\"pCgBz7V.png\"></p>\n<blockquote>\n<p>在 cmd 终端中输入 mvn -v 查看 maven 版本及是否安装正确</p>\n</blockquote>\n<p><img data-src=\"https://s1.ax1x.com/2023/07/08/pCg3QqH.png\" alt=\"pCg3QqH.png\">]</p>\n<blockquote>\n<p>使用 mvn compile 将项目编译为 class 文件并输出到 target 目录</p>\n</blockquote>\n<p><img data-src=\"https://s1.ax1x.com/2023/07/08/pCg3zTA.png\" alt=\"pCg3zTA.png\"></p>\n<blockquote>\n<p>使用 mvn clean 清理 target 目录，整个目录一起删掉</p>\n</blockquote>\n<p><img data-src=\"https://s1.ax1x.com/2023/07/08/pCg8Fl8.png\" alt=\"pCg8Fl8.png\"></p>\n<blockquote>\n<p>使用 mvn test 执行 src/test/java 目录下的单元测试类</p>\n</blockquote>\n<p><img data-src=\"https://s1.ax1x.com/2023/07/08/pCg8llT.png\" alt=\"pCg8llT.png\"></p>\n<blockquote>\n<p>使用 mvn package 将 java 工程打包为 jar 包，将 web 工程打包为 war 包</p>\n</blockquote>\n<p><img data-src=\"https://s1.ax1x.com/2023/07/08/pCg82tI.png\" alt=\"pCg82tI.png\"></p>\n<blockquote>\n<p>使用 mvn install 将项目打包并发布到本地仓库，本步骤包含 package 和 test</p>\n</blockquote>\n<p><img data-src=\"https://s1.ax1x.com/2023/07/08/pCgYGnS.png\" alt=\"pCgYGnS.png\"></p>\n<blockquote>\n<p>使用 mvn deploy 也可以将项目打包，并发布到本地仓库和私服中，包含 package、test 及 install</p>\n</blockquote>\n<blockquote>\n<p>使用 mvn clean test 会先清理再 test 测试</p>\n</blockquote>\n<blockquote>\n<p>使用 IDEA 也可以直接双击</p>\n</blockquote>\n<p><img data-src=\"https://s1.ax1x.com/2023/07/08/pCgY4c6.png\" alt=\"pCgY4c6.png\"></p>\n<h4 id=\"使用maven进行模块开发\"><a class=\"markdownIt-Anchor\" href=\"#使用maven进行模块开发\">#</a> 使用 maven 进行模块开发</h4>\n<ol>\n<li>\n<p>先将自己写的类用 maven 打包为 jar 并发布到本地仓库 (建议将本地仓库的存储位置改一下，具体度娘)</p>\n<blockquote>\n<pre><code>mvn install:install-file -Dfile='xxx.jar' -DgroupId='xxx.xxx.xxx' -DartifactId=xxx -Dversion='xxx.xxx.xxx' -Dpackaging=jar\n</code></pre>\n</blockquote>\n<p><code>-Dfile</code>  是 <code>jar</code>  包的路径， <code>-DgroupID</code>  是你在 <code>pom.xml</code>  中设置的组名， <code>-DartifactID</code>  是你在 <code>pom.xml</code>  中设置的项目名， <code>-Dversion</code>  是版本</p>\n<p>注意：一定要将带点的加上单引号，否则报错</p>\n</li>\n</ol>\n<p><img data-src=\"https://s1.ax1x.com/2023/07/08/pCgBQLq.png\" alt=\"pCgBQLq.png\"></p>\n<ol start=\"2\">\n<li>\n<p>然后将依赖引入即可</p>\n<p><img data-src=\"https://s1.ax1x.com/2023/07/08/pCgB3wV.png\" alt=\"pCgB3wV.png\"></p>\n</li>\n</ol>\n<hr>\n<p>本教程参考的一些大佬的文章</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL3QuY3Nkbi5jbi9oWEU5Vg==\">http://t.csdn.cn/hXE9V</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL3QuY3Nkbi5jbi84MUltNg==\">http://t.csdn.cn/81Im6</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL3QuY3Nkbi5jbi9FNGVOOA==\">http://t.csdn.cn/E4eN8</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cucnVub29iLmNvbS9tYXZlbi9tYXZlbi10dXRvcmlhbC5odG1s\">Maven 教程 | 菜鸟教程 (runoob.com)</span></p>\n<hr>\n<p>END</p>\n",
            "tags": [
                "java",
                "maven"
            ]
        }
    ]
}